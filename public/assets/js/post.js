!function(a){"use strict";var t=function(a){return window.i18n[a]||a};a("body").on("click",".btn-video",(function(){if(t=a(".videos-accordion .card").last().data("id")+1)var t=t;else t=1;var e=[{id:t,player:null}];a("#card-video").tmpl(e).appendTo(".videos-accordion"),a(".load-option").each((function(){var t=a(this).attr("data-type"),e=a(this).attr("data-id"),o=a(this);a.ajax({type:"POST",url:URL+"/admin/ajax/"+t,dataType:"json",success:function(t){var s="";a.each(t.data,(function(a,o){e==t.data[a].id?s+='<option value="'+t.data[a].id+'" selected="true">'+t.data[a].name+"</option>":s+='<option value="'+t.data[a].id+'">'+t.data[a].name+"</option>"})),o.html(s)}})})),a("#c-"+t).collapse({toggle:!0}),a("html, body").animate({scrollTop:a("#c-"+t).offset().top},"slow"),a(".videos-accordion .card").each((function(t,e){a(e).find(".sortable-input").val(t)}))})),a(".load-option").each((function(){var t=a(this).attr("data-type"),e=a(this).attr("data-id"),o=a(this);a.ajax({type:"POST",url:URL+"/admin/ajax/"+t,dataType:"json",success:function(t){var s="";a.each(t.data,(function(a,o){e==t.data[a].id?s+='<option value="'+t.data[a].id+'" selected="true">'+t.data[a].name+"</option>":s+='<option value="'+t.data[a].id+'">'+t.data[a].name+"</option>"})),o.html(s)}})})),a(document).on("keyup",'[name="name[]"]',(function(){var t=a(this).val(),e=a(this).data("card");a('[data-id="'+e+'"').find(".name span").text(t)})),a(document).on("change",'[data-type="language"]',(function(){var t=a(this).find("option:selected").val(),e=a(this).find("option:selected").text(),o=a(this).data("card");t&&(a('[data-id="'+o+'"').find(".name div").text(e),a(this).attr("data-id",t))})),a(document).on("change",'[data-type="service"]',(function(){var t=a(this).find("option:selected").val(),e=a(this).find("option:selected").text(),o=a(this).data("card");t&&(a('[data-id="'+o+'"').find(".name span").text(e),a(this).attr("data-id",t))})),a(".videos-accordion").sortable({handle:".sortable-move",forcePlaceholderSize:!0,placeholder:"sortable-placeholder",beforeStop:function(t,e){a(".videos-accordion .card").each((function(t,e){a(e).find(".sortable-input").val(t)}))},create:function(t,e){a(".videos-accordion .card").each((function(t,e){a(e).find(".sortable-input").val(t)}))}}),a("body").on("click",".remove-video",(function(){var e=a(this).attr("data-id");a(this).data("ajax")?a.ajax({type:"POST",url:URL+"/admin/ajax/delete/video",data:"id="+e,success:function(o){a('.card-video[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"})}}):(a('.card-video[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"}))})),a(".actors-accordion").sortable({handle:".sortable-move",forcePlaceholderSize:!0,placeholder:"sortable-placeholder",beforeStop:function(t,e){a(".actors-accordion .card").each((function(t,e){a(e).find(".sortable-input").val(t)}))},create:function(t,e){a(".actors-accordion .card").each((function(t,e){a(e).find(".sortable-input").val(t)}))}}),a("body").on("click",".remove-actor",(function(){var e=a(this).attr("data-id");a(this).data("ajax")?a.ajax({type:"POST",url:URL+"/admin/ajax/delete/actor",data:"id="+e,success:function(o){a('.card-actor[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"})}}):(a('.card-actor[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"}))})),a("body").on("click",".btn-season",(function(){if(t=a(".seasons .card").last().data("id")+1)var t=t;else t=1;var e=[{id:t,name:a(".modal-body").find('[name="season"]').val()}];a("#card-season").tmpl(e).appendTo(".seasons"),a(".modal").modal("hide"),a(".seasons .card").each((function(t,e){a(e).find(".sortable-input").val(t)}))})),a("body").on("click",".remove-season",(function(){var e=a(this).attr("data-id");a(this).data("ajax")?a.ajax({type:"POST",url:URL+"/admin/ajax/delete/season",data:"id="+e,success:function(o){a('.card-season[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"})}}):(a('.card-season[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"}))})),a(".seasons").sortable({handle:".sortable-move",forcePlaceholderSize:!0,placeholder:"sortable-placeholder",beforeStop:function(t,e){a(".seasons .card").each((function(t,e){a(e).find(".sortable-input").val(t)}))},create:function(t,e){a(".seasons .card").each((function(t,e){a(e).find(".sortable-input").val(t)}))}}),a("body").on("click",".remove-collection",(function(){var e=a(this).attr("data-id");a(this).data("ajax")?a.ajax({type:"POST",url:URL+"/admin/ajax/delete/collection",data:"id="+e,success:function(o){a('.card-collection[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"})}}):(a('.card-collection[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"}))})),a("body").on("click",".remove-actor-video",(function(){var e=a(this).attr("data-id");a(this).data("ajax")?a.ajax({type:"POST",url:URL+"/admin/ajax/delete/actor",data:"id="+e,success:function(o){a('.card-actor[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"})}}):(a('.card-video[data-id="'+e+'"]').remove(),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"}))})),a("body").on("click",".media-remove",(function(){var e=a(this).attr("data-id");e&&a.ajax({type:"POST",url:URL+"/admin/ajax/delete/avatar",data:"id="+e,success:function(e){a(".media-select").css("background-image",""),Snackbar.show({text:t("Deletion is successful"),customClass:"bg-success"})}})}))}(jQuery);
