!function(e){"use strict";e(document).ajaxStart((function(){e("body").addClass("loader-body")})),e(document).ajaxComplete((function(){e('[data-tooltip="tooltip"]').tooltip({trigger:"hover"}),e(".lazy").lazy(),e("body").removeClass("loader-body")})),e(".lazy").length>0&&e(".lazy").lazy(),e(".confirm").on("click",(function(e){return!!confirm("Do you want to remove it ?")})),e(".media-select .media-btn").on("click",(function(a){var t=e(this).attr("id");e("#file-"+t).click()})),e(".media-input").on("change",(function(a){var t=e(this).attr("data-preview");if(e("."+t).addClass("media-selected"),this.files&&this.files[0]){var i=new FileReader;i.onload=function(a){e("."+t).css("background-image","url("+a.target.result+")"),e('[name="image-url"]').val("")},i.readAsDataURL(this.files[0])}})),e(window).on("resize",(function(){var a=e(window).width();a>1200&&e(".aside-lg").modal("hide"),a>991&&(e("#aside").modal("hide"),e(".aside-md, .aside-sm").modal("hide")),a>768&&e(".aside-sm").modal("hide")})),e('[data-tooltip="tooltip"]').tooltip({trigger:"hover",container:".app-content"}),e("body").on("click",'[data-toggle="modal"]',(function(){e(".modal").modal("hide"),e(".aside").modal("hide"),e(e(this).data("target")+" .modal-dialog").load(e(this).data("remote"),(function(){}))})),e(".modal").on("hide.bs.modal",(function(a){e(".modal-dialog").html("")})),e(".btn-insert").on("click",(function(a){var t=e(this).attr("data-ajax"),i=e(this).attr("data-type");if(e('input[name="actor"]').is(":checked"))var n=e('input[name="actor"]').val();if(e('input[name="season"]').is(":checked"))var o=e('input[name="season"]').val();if(e('input[name="episode"]').is(":checked"))var d=e('input[name="episode"]').val();t&&e.ajax({type:"GET",url:URL+"/admin/tmdb?_ACTION=insert",dataType:"json",data:"id="+t+"&type="+i+"&actor="+n+"&season="+o+"&episode="+d,success:function(a){Snackbar.show({text:a.text,customClass:"bg-"+a.status}),"success"==a.status&&e('.card-item[data-id="'+t+'"]').remove()}})})),e("[data-nav] a").on("click",(function(a){var t,i,n,o=e(this);n=(i=o.parent()).parents("li"),t=i.closest("[data-nav]").find(".active"),n.addClass("active"),o.next().is("ul")&&i.toggleClass("active")||i.addClass("active"),t.not(n).not(i).removeClass("active"),o.attr("href")&&"#"!=o.attr("href")&&e(document).trigger("Nav:changed")})),e(".colorpicker").minicolors({control:e(this).attr("data-control")||"hue",inline:"true"===e(this).attr("data-inline"),letterCase:"lowercase",opacity:!1,change:function(a,t){if(a){t&&(a+=", "+t);try{console.log(a)}catch(e){}e(this).select()}},theme:"bootstrap"}),e(".summernote").summernote({height:240,defaultFontName:"Inter",callbacks:{onPaste:function(e){var a=((e.originalEvent||e).clipboardData||window.clipboardData).getData("Text");e.preventDefault(),document.execCommand("insertText",!1,a)},onImageUpload:function(e){uploadImage(e[0])}}}),e(".selectize-single").selectize(),e(".selectize-ajax").selectize({valueField:"id",labelField:"name",searchField:"name",options:[],maxItems:1,load:function(a,t){if(!a.length)return t();e.ajax({url:URL+"/ajax/"+this.settings.dataAjax+"?q="+encodeURIComponent(a),type:"GET",dataType:"json",error:function(){t()},success:function(e){t(e.data.slice(0,10))}})},create:!0,createFilter:function(e){e=e.toLowerCase()}}),e(".selectize-query").selectize({valueField:"id",labelField:"name",searchField:"name",options:[],maxItems:1,render:{option:function(e,a){return'<div class="d-flex align-items-center px-3 py-1"><div class="media media-cover-temp w-sm-thumb lazy" data-src="'+a(e.image)+'"></div><div class="ml-3">'+(e.name?'<div class="name">'+a(e.name)+"</div>":"")+(e.type?'<div class="text-muted text-12">'+a(e.type)+"</div>":"")+"</div></div>"}},load:function(a,t){if(!a.length)return t();e.ajax({url:URL+"/admin/ajax/"+this.settings.dataAjax+"?q="+encodeURIComponent(a),type:"GET",dataType:"json",error:function(){t()},success:function(e){t(e.data.slice(0,10))}})},create:!1,onChange:function(a){e.ajax({url:URL+"/admin/ajax/post?id="+a,type:"GET",dataType:"json",success:function(a){e('input[name="title"]').val(a.data[0].name)}})}}),e(".module-accordion").sortable({handle:".sortable-move",forcePlaceholderSize:!0,placeholder:"sortable-placeholder",beforeStop:function(a,t){e(".module-accordion .card").each((function(a,t){e(t).find(".sortable-input").val(a)}))},create:function(a,t){e(".module-accordion .card").each((function(a,t){e(t).find(".sortable-input").val(a)}))}})}(jQuery);
